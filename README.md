# CoWatch

Telegram-бот для совместного просмотра фильмов и сериалов.

## Описание

CoWatch позволяет находить людей для совместного просмотра и обсуждения фильмов/сериалов. Пользователи могут:
- Добавлять фильмы/сериалы через ссылки на Kinopoisk/IMDb
- Создавать временные слоты для просмотра
- Присоединяться к существующим слотам
- Получать рейтинги за активность в обсуждениях

## Установка

1. Клонируйте репозиторий
2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Заполните `.env` файл:
   - `TELEGRAM_BOT_TOKEN` - токен вашего Telegram бота (получите у @BotFather)
   - Настройте параметры базы данных

5. Запустите PostgreSQL через Docker:
```bash
docker-compose up -d postgres
```

6. Инициализируйте базу данных:
```bash
python -m bot.database.init_db
```

7. Запустите бота:
```bash
python run_bot.py
```

## Команды бота

- `/start` - Начать работу с ботом
- `/help` - Справка по командам
- `/add_movie` - Добавить фильм/сериал для просмотра
- `/my_slots` - Мои созданные слоты
- `/my_rooms` - Мои активные комнаты
- `/profile` - Мой профиль и рейтинг
- `/rate` - Оценить участников после обсуждения
- `/cancel` - Отменить участие в слоте

## Структура проекта

```
CoWatch/
├── bot/                    # Основной код бота
│   ├── handlers/          # Обработчики команд
│   ├── database/          # Модели и репозитории БД
│   ├── services/          # Бизнес-логика
│   └── utils/             # Утилиты
├── migrations/            # Миграции БД (если используется Alembic)
└── run_bot.py            # Скрипт запуска бота
```

## Примечания

- Парсинг фильмов и создание Telegram групп реализованы как заглушки
- Для полной функциональности требуется реализация соответствующих сервисов
